<head>
  <title>Todo List</title>
  <link id="favicon" rel="icon" href="favicon.ico?v=3">
</head>

<body>
<div class="container">
  <header>
    <div class="panel panel-primary fade-in">
      <div class="panel-heading">
        <div class="panel-title">
          <h1>Todo List <span class="badge title-badge"> {{incompleteCount}} </span></h1>
        </div>
        <div class ="btn btn-normal login-btns">
          {{> loginButtons}}
        </div>
      </div>
      <div class="panel-body">
        <div class="checkbox checkbox-primary">
          <label class="hide-completed">
            <input type="checkbox" checked="{{hideCompleted}}" />
              Hide Completed Tasks
          </label>
        </div>
      </div>

      {{#if currentUser}}
        {{#if currentUser}}

          <form class="new-task">
            <div class="form-control-wrapper">
              <input class="form-control empty" name="text" placeholder="Type here to add new task">
              <span class="material-input"></span>
            </div>
          </form>

        {{/if}}
      {{/if}}
    </div>
  </header>
  <ul>
    {{#transition}}
      {{#each tasks}}
        {{> task}}
      {{/each}}
    {{/transition}}
  </ul>
</div>
</body>

<template name="task">
  <li class="well fade {{#if checked}}checked{{/if}} {{#if private}}private{{/if}}">

    <div>
      <button class="btn btn-default btn-fab btn-raised delete"><i class="mdi-action-delete delete-icon center"></i><span class="ripple-wrapper"></span></button>
    </div>
      <span class="label label-success">{{username}}</span>
      <div class="checkbox checkbox-primary">
        <label>
          <input type="checkbox" checked="{{checked}}" class="toggle-checked " />
          <span class="ripple"></span>
          <span class="check"></span>
        </label>

        {{#if isOwner}}
           {{#if private}}
              <button class="btn btn-flat btn-info btn-lg toggle-private">
                Private
              </button>
           {{else}}
             <button class="btn btn-flat btn-warning btn-lg toggle-private">
                Public
              </button>
           {{/if}}
        {{/if}}
      </div>

        <p><span class="text">{{text}}</span></p>

    </li>
</template>
